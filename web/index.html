<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="author" content="JMSR">
		<meta name="description" content="Plantilla para documento HTML 5">
		<meta name="keywords" content="HTML, CSS">

		<title>Plantilla para documento HTML 5</title>

		<link rel="icon" type="image/png" href="favicon.ico">
		<link rel="stylesheet" type="text/css" href="base.css">
	<style>
    *
    {
      margin: 0;
      padding: 0;
    }
    #espacioSuperior
    {
      background-color: #E6E6E6;
    }
    #contenedorPagina
    {
      margin: 0 auto;
      border: 1px solid #9900CC;
      height: 85%;
    }

    #encabezado
    {
      height: 50px;
      background-color: #FF3300;
    }
    #aLaIzquierda
    {
      width: 20%;
      height: 500px;
      float: left;
      background-color: #0066FF;
    }
    #contenidoPrincipal
    {
      width: 60%;
      float: left;
      background-color: #FFFFFF;
    }
    #aLaDerecha
    {
      width: 20%;
      height: 500px;
      float: right;
      background-color: #006600;
    }
    #piePagina
    {
      clear: both;
      height: 25px;
      background-color: #CC6699;
    }
	
	table 
	{
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
	}
	td, th 
	{
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
	}
	tr:nth-child(even) 
	{
    background-color: #dddddd;
	}
	</style>
</head>
<body>
	<div id="contenedorPagina">
		<header id="encabezado">
			<p>
				<IMG SRC="">
				</p>
			</header>
			<aside id="aLaIzquierda">
				<p>#aLaIzquierda</p>
			</aside>
			<section id="contenidoPrincipal">
				<table>
					<tr id="tituloTabla">
						<h2>Tabla Stock</h2>
					<tr>
					<tr>
						<th>Company</th>
						<th>Contact</th>
						<th>Country</th>
					</tr>
					<?php
					#Constantes
					$BDstock = 'bd/stock.csv';
					$BDpedidos = 'bd/pedidos.csv';
					#Clase
					class Stock
					{
						public $nombre;
						public $tipo;
						public $precio;
						public $stock;		
						
						public function __construct($n, $t, $p, $s)
						{
							$this->nombre = $n;
							$this->tipo = $t;
							$this->precio = $p;
							$this->stock = $s;
						}
					}

					function obtenerStock($n, $lista)
					{
						foreach ($lista as &$Stock)
						{
							if($Stock->nombre==$n)
							{
								return $Stock->stock;
							}
						}
					}
					#Obtener CSV Stock
					if (($fichero = fopen($BDstock, "r")) !== FALSE) 
					{
						while (($data = fgetcsv($fichero, 1000, ",")) !== FALSE) 
						{
							$arrayStock[] = new Stock($data[0], $data[1], $data[2], $data[3]);
						}
						fclose($fichero);
					}
					
					foreach($arrayStock as &$Stock)
					{
					?>
					<tr>
						<td>Company</td>
						<td>Contact</td>
						<td>Country</td>
					</tr>
					<?php 
					} 
					?>
				</table>
			</section>
			<aside id="aLaDerecha">
				<p>#aLaDerecha</p>
			</aside>
			<footer id="piePagina">
				<p>#piePagina</p>
			</footer>
		</div>
	</body>
</html>